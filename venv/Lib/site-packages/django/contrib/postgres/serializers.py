from django.db.migrations.serializer import BaseSerializer


class RangeSerializer(BaseSerializer):
    def serialize(self):
        module = self.value.__class__.__module__
        # Ranges are implemented in psycopg._range but the public import
        # location is psycopg.extras.
        module = "psycopg.extras" if module == "psycopg._range" else module
        return "%s.%r" % (module, self.value), {"import %s" % module}
